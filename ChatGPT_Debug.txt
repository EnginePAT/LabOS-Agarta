Something is causing a triple fault

stdio.h
#ifndef _STDIO_H
#define _STDIO_H

#include "stdint.h"

#define VGA ((char*)0xb8000)
#define VGA_WIDTH 80
#define VGA_HEIGHT 25

typedef enum {
    VGA_BLACK        = 0x0,
    VGA_BLUE         = 0x1,
    VGA_GREEN        = 0x2,
    VGA_CYAN         = 0x3,
    VGA_RED          = 0x4,
    VGA_MAGENTA      = 0x5,
    VGA_BROWN        = 0x6,
    VGA_LIGHT_GRAY   = 0x7,
    VGA_DARK_GRAY    = 0x8,
    VGA_LIGHT_BLUE   = 0x9,
    VGA_LIGHT_GREEN  = 0xA,
    VGA_LIGHT_CYAN   = 0xB,
    VGA_LIGHT_RED    = 0xC,
    VGA_LIGHT_MAGENTA= 0xD,
    VGA_YELLOW       = 0xE,
    VGA_WHITE        = 0xF
} vga_color_t;

int strlen(const char* str);
void putc(char c, uint8_t color);
void puts(const char* s);
void cputs(const char* s, uint8_t color);              // Color puts

#endif      // _STDIO_H

stdio.c
#include <stdio.h>

static uint8_t cursor_col = 0;
static uint8_t cursor_row = 0;

int strlen(const char* str) {
    uint32_t len = 0;
    while (str[len] != '\0') {
        len++;
    }
    return len;
}

void putc(char c, uint8_t color) {
    if (c == '\n') {
        cursor_col = 0;
        cursor_row++;
    } else {
        VGA[(cursor_row * VGA_WIDTH + cursor_col) * 2] = c;
        VGA[(cursor_row * VGA_WIDTH + cursor_col) * 2 + 1] = color;
        cursor_col++;
        if (cursor_col >= VGA_WIDTH) { // wrap line
            cursor_col = 0;
            cursor_row++;
        }
    }

    // Simple scroll if we go past the last row
    if (cursor_row >= VGA_HEIGHT) {
        // Scroll screen up
        for (int y = 1; y < VGA_HEIGHT; y++) {
            for (int x = 0; x < VGA_WIDTH; x++) {
                VGA[((y-1) * VGA_WIDTH + x) * 2] = VGA[(y * VGA_WIDTH + x) * 2];
                VGA[((y-1) * VGA_WIDTH + x) * 2 + 1] = VGA[(y * VGA_WIDTH + x) * 2 + 1];
            }
        }
        // Clear last row
        for (int x = 0; x < VGA_WIDTH; x++) {
            VGA[((VGA_HEIGHT-1) * VGA_WIDTH + x) * 2] = ' ';
            VGA[((VGA_HEIGHT-1) * VGA_WIDTH + x) * 2 + 1] = 0x0f;
        }
        cursor_row = VGA_HEIGHT - 1;
    }
}

void puts(const char* s) {
    for (int i = 0; i < strlen(s); i++) {
        putc(s[i], 0x0f); // white on black
    }
}

void cputs(const char* s, uint8_t color) {
    for (int i = 0; i < strlen(s); i++) {
        putc(s[i], color);
    }
}

kernel.c
#include <stdio.h>

void kernel_main();

void kernel_main() {
    const char* msg = "Hello world from kernel!!!! :D";
    cputs("kernel@labos", VGA_GREEN);
    cputs(":", VGA_WHITE);
    cputs("~", VGA_LIGHT_BLUE);
    cputs(" $", VGA_WHITE);

    return;
}
